<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title> GameP!ck </title>
        <script src="{{ url_for('static', path='/input.js')}}"></script>
        <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', path='./image/favicon.png')}}">
        <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square.css" rel="stylesheet">
        <script>
            const add_textbox = () => {
                const box = document.getElementById("box");
                const newP = document.createElement('p');

                if (document.getElementsByName("search").length >=10) {
                    alert("ì…ë ¥ ê°€ëŠ¥í•œ ê²Œì„ í•­ëª©ì€ ìµœëŒ€ 10ê°œì…ë‹ˆë‹¤.");
                    return;
                }
                newP.innerHTML = "<input type='text' name='search' placeholder='ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' autocomplete='off' onkeydown='return event.key !== `Enter`;'> <span class='autocomplete' name='autocomplete'></span> <input type='button' value='ì‚­ì œ' onclick='remove(this)'>";
                const addButton = document.querySelector("#box input[type='button'][value='ì¶”ê°€']");
                box.insertBefore(newP, addButton);

                $search.forEach(search => search.addEventListener('input', makeAutocomplete));
            }

            const remove = (obj) => {
                document.getElementById('box').removeChild(obj.parentNode);
            }
        </script>
        <link rel="stylesheet" href="{{ url_for('static', path='/input.css')}}">
        <script>
            window.onpageshow = function(){
                form.style.display = "block"
                loading.style.display = "none"
            }
        </script>
    </head>

    <body style="background-color:rgb(240, 240, 240)">
        <div class="container">
            <form action="http://{{ ip }}:{{ port }}/output" method="post" id="inputForm">
                <fieldset>
                    <legend> <h2> ì‚¬ìš©ì ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2> </legend>
                    <h3> 1. ì—°ë ¹ëŒ€ </h3>
                    <input type="radio" name="age" id="20+" value="20" onclick="fieldsetDisable()"> <label for="20+"> ì„±ì¸ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </label>
                    <input type="radio" name="age" id="underage" value="0" onclick="fieldsetActive()"> <label for="underage"> ë¯¸ì„±ë…„ì </label>
                    <fieldset id="young" disabled>
                        <h3> 1-2. ì„¸ë¶€ ì—°ë ¹ëŒ€ (ë¯¸ì„±ë…„ìì˜ ê²½ìš°) </h3>   
                        <input type="radio" name="young" id="10-" value="9"> 10ì„¸ ë¯¸ë§Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                        <input type="radio" name="young" id="10" value="10"> 10-12 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                        <input type="radio" name="young" id="13" value="13"> 13-16 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                        <input type="radio" name="young" id="17" value="17"> 17ì„¸ ì´ìƒ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                    </fieldset>
                    
                    <h3> 2. ë³´ìœ í•˜ê³  ìˆëŠ” ê²Œì„ ê¸°ê¸° (ëª¨ë‘ ê³¨ë¼ì£¼ì„¸ìš”) </h3>
                    <input type="checkbox" name="platform" value="PC"> PC <br>
                    <input type="checkbox" name="platform" value="iOS"> iOS (iPhone/iPad) <br>
                    <input type="checkbox" name="platform" value="Switch"> ë‹Œí…ë„ ìŠ¤ìœ„ì¹˜ <br>
                    <input type="checkbox" name="platform" value="PlayStation 4"> Play Station 4 <br>
                    <input type="checkbox" name="platform" value="PlayStation 5"> Play Station 5 <br>
                    <input type="checkbox" name="platform" value="Xbox One"> Xbox One <br>
                    <input type="checkbox" name="platform" value="Xbox Series X"> Xbox Series X<br>
                </fieldset>
                <fieldset> 
                    <legend> <h2> ì„ í˜¸í•˜ëŠ” ê²Œì„ ìŠ¤íƒ€ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš” </h2> </legend>
                    <h3> 1. í”Œë ˆì´ ì¸ì› ìˆ˜ </h3>
                    <input type="radio" name="players" value="1"> 1ëª… &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                    <input type="radio" name="players" value="2"> 2ëª… &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                    <input type="radio" name="players" value="4"> 4ì¸ ì´í•˜ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                    <input type="radio" name="players" value="5"> 5ì¸ ì´ìƒ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                    <input type="radio" name="players" value="0"> ìƒê´€ ì—†ìŒ
    
                    <h3> 2. ì„ í˜¸í•˜ëŠ” ì¥ë¥´ (ëª¨ë‘ ê³¨ë¼ì£¼ì„¸ìš”) </h3>
                    <input type="checkbox" name="selectall" value="all" onclick="selectAll(this)"> ëª¨ë‘ ì„ íƒ <br>
                    <input type="checkbox" name="genre" value="RPG" onclick='checkSelectAll()'> RPG <br>
                    <input type="checkbox" name="genre" value="Shooting" onclick='checkSelectAll()'> FPS / Shooting <br>
                    <input type="checkbox" name="genre" value="AOS" onclick='checkSelectAll()'> AOS / MOBA <br>
                    <input type="checkbox" name="genre" value="Action" onclick='checkSelectAll()'> ì•¡ì…˜ <br>
                    <input type="checkbox" name="genre" value="Tactics" onclick='checkSelectAll()'> ì „ëµ <br>
                    <input type="checkbox" name="genre" value="Puzzle" onclick='checkSelectAll()'> í¼ì¦ <br>
                    <input type="checkbox" name="genre" value="Simulation" onclick='checkSelectAll()'> ì‹œë®¬ë ˆì´ì…˜ <br>
                    <input type="checkbox" name="genre" value="Adventure" onclick='checkSelectAll()'> ì–´ë“œë²¤ì²˜ <br>
                    <input type="checkbox" name="genre" value="Sports" onclick='checkSelectAll()'> ìŠ¤í¬ì¸  <br>
                    <input type="checkbox" name="genre" value="Arcade" onclick='checkSelectAll()'> ì•„ì¼€ì´ë“œ <br>
                    <input type="checkbox" name="genre" value="Racing" onclick='checkSelectAll()'> ë ˆì´ì‹± <br>
    
                    <h3> 3. ì„ í˜¸í•˜ëŠ” ê²Œì„ íƒœê·¸ (ëª¨ë‘ ê³¨ë¼ì£¼ì„¸ìš”) </h3>
                    <input type="checkbox" class = "tag" name="tag" value="Graphics" onclick="dontCareDisable();"> ì‘í™” / ë””ìì¸ <br>
                    <input type="checkbox" class = "tag" name="tag" value="Sound" onclick="dontCareDisable();"> ìŒí–¥ / ì‚¬ìš´ë“œ <br>
                    <input type="checkbox" class = "tag" name="tag" value="Creativity" onclick="dontCareDisable();"> ë…ì°½ì„± <br>
                    <input type="checkbox" class = "tag" name="tag" value="Freedom" onclick="dontCareDisable();"> ììœ ë„ <br>
                    <input type="checkbox" class = "tag" name="tag" value="Hitting" onclick="dontCareDisable();"> íƒ€ê²©ê° <br>
                    <input type="checkbox" class = "tag" name="tag" value="Completion" onclick="dontCareDisable();"> ì™„ì„±ë„ <br>
                    <input type="checkbox" class = "tag" name="tag" id="hard" value="hard" onclick="hardLevelSelect(); dontCareDisable();"> ë†’ì€ ë‚œì´ë„ <br>
                    <input type="checkbox" class = "tag" name="tag" id="easy" value="easy" onclick="easyLevelSelect(); dontCareDisable();"> ë‚®ì€ ë‚œì´ë„ <br>
                    <input type="checkbox" name="tag" id="none" value="all" onclick="dontCare()"> ìƒê´€ì—†ìŒ <br>
                </fieldset>
                
                <section>
                    <span id="satisfy">
                        <h2> ë§Œì¡±ìŠ¤ëŸ½ê²Œ í”Œë ˆì´í•œ ê²Œì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (ìµœëŒ€10ê°œ) </h2>
                        ğŸš¨ ê²Œì„ì´ë¦„ì€ ì˜ì–´ë¡œ ì…ë ¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤ğŸš¨ <br><br>
                    </span>
                    <div id="box">
                        <!--ê²€ìƒ‰ì–´ ì…ë ¥ í¼-->
                        <input
                            type="text"
                            name="search"
                            placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."
                            autocomplete="off"
                            onkeydown="return event.key !== 'Enter';"
                        />  
                        <span class="autocomplete" name="autocomplete"></span>
                        <br>
                        <input type="button" value="ì¶”ê°€" onclick="add_textbox()">
                    </div>
                </section>
                
                <script>
                    const dataList = {{ game_list | tojson }}
                </script>
                
                <script src="{{ url_for('static', path='/search.js')}}"></script>
                <br>
                <br>
                <span id="img"><input type="image" src="{{ url_for('static', path='image/submit_button.png')}}" id="submit" alt="submit" width="165" height="60" disabled></span>
            </form>

            <script src="{{ url_for('static', path='/next.js')}}"></script>

            <div id="loading">
                <br> <br>
                <img src="{{ url_for('static', path='./image/spin.gif')}}" alt="loading" width="72px" height="72px">
                <h5 style="color: rgb(226, 112, 60);">&nbsp;&nbsp; now loading...</h5>
                <br>
                <h2> ğŸ˜Š ê²Œì„ ì¶”ì²œ ê²°ê³¼ë¥¼ ìƒì„±ì¤‘ì…ë‹ˆë‹¤ ğŸ˜Š </h2>
            </div>
            
            <script>
                const form = document.getElementById("inputForm")
                const loading = document.getElementById("loading")

                form.onsubmit = function () {
                    // í¼ ì œì¶œ ì‹œ ë¡œë”© í™”ë©´ ë³´ì´ë„ë¡ ì„¤ì •
                    form.style.display = "none"
                    loading.style.display = "block";

                };
            </script>


            
        </div>
    </body>
</html>